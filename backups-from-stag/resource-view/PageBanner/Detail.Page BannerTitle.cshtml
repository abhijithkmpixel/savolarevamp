@model Telerik.Sitefinity.Frontend.Mvc.Models.ContentDetailsViewModel
@using Prototype.Sitefinity.SitefinityControllers
@using Telerik.Sitefinity.Frontend.Mvc.Helpers;
@using Telerik.Sitefinity.Web
@using Prototype.Sitefinity.SitefinityControllers
@using Telerik.Sitefinity.Frontend.Mvc.Helpers;
@using Telerik.Sitefinity.Web
@using Telerik.Sitefinity.Frontend.Mvc.Helpers
@using SitefinityWebApp.Core.Extensions
@{
    var idx = "1";
    var style = "";
    var styleMobile = "";
    var additionalClass = "carousel-slide-white";
    var scrollClass = "hidden";
    if (Model.Item.Fields.Image != null)
    {
        additionalClass = "";
        scrollClass = "";
        style = "background-image: url('" + Model.Item.Fields.Image.Fields.MediaUrl.Split('?')[0] + "');";
        styleMobile = style;
    }
    if (Model.Item.Fields.ImageMobile != null)
    {
        styleMobile = "background-image: url('" + Model.Item.Fields.ImageMobile.Fields.MediaUrl.Split('?')[0] + "');";
    }
    if (Model.Item.Fields.ImagePosition != null)
    {
        style += "background-position: " + Model.Item.Fields.ImagePosition + ";";
        styleMobile += "background-position: " + Model.Item.Fields.ImagePosition + ";";
    }
}

@if (Model.Item.Fields.Image != null)
{
    var breadcrumb = BreadcrumbModelCreate.GetModel();
    <section class="hero__banner__homepage hero__banner__homepage--innerbanner">
        <div class="hero__banner__homepage__slide">
            <div class="hero__banner__homepage__slide__image">
                @if (Model.Item.Fields.Image != null)
                {
                    <img src="@Model.Item.Fields.Image.Fields.MediaUrl.Split('?')[0]" alt="" />
                }
            </div>
            <div class="hero__banner__homepage__slide__content">
                @if (Model.Item.Fields.Text != null)
                {
                    <h1>@Html.Raw(Model.Item.Fields.Text)</h1>
                }
              
                <ul class="bread__crumbs">
                    @for (int i = 0; i < breadcrumb.SiteMapNodes.Count; i++)
                    {
                        var node = breadcrumb.SiteMapNodes[i];
                        var current = i == breadcrumb.SiteMapNodes.Count - 1 && breadcrumb.ShowCurrentPageInTheEnd;
                        var className = current ? "active" : "";
                        var ariaLabel = node.Title;
                        for (int j = 0; j < breadcrumb.SiteMapNodes.Count; j++)
                        {
                            ariaLabel = breadcrumb.SiteMapNodes[j] + " / ";
                            if (breadcrumb.SiteMapNodes[j] == node)
                            {
                                break;
                            }
                        }
                        if (current)
                        {
                            <li>@node.Title</li>
                        }
                        else
                        {
                            <li><a href="@node.Url">@node.Title</a></li>
                        }
                    }
                </ul>
            </div>
        </div>
    </section>

}
else
{
    var breadcrumb = BreadcrumbModelCreate.GetModel();
    <div class="page__title">
        <h1>@Html.Raw(Model.Item.Fields.Text)</h1>
        <ul class="bread__crumbs">
            @for (int i = 0; i < breadcrumb.SiteMapNodes.Count; i++)
            {
                var node = breadcrumb.SiteMapNodes[i];
                var current = i == breadcrumb.SiteMapNodes.Count - 1 && breadcrumb.ShowCurrentPageInTheEnd;
                var className = current ? "active" : "";
                var ariaLabel = node.Title;
                for (int j = 0; j < breadcrumb.SiteMapNodes.Count; j++)
                {
                    ariaLabel = breadcrumb.SiteMapNodes[j] + " / ";
                    if (breadcrumb.SiteMapNodes[j] == node)
                    {
                        break;
                    }
                }

                if (current)
                {
                    <li>@node.Title</li>
                }
                else
                {
                    <li><a href="@node.Url">@node.Title</a></li>
                }
            }
        </ul>
    </div>

}

